'\" t
.\" Automatically generated by Pandoc 2.18
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "dotnet-dev-certs" "1" "2022-10-10" "" ".NET Documentation"
.hy
.SH dotnet dev-certs
.PP
\f[B]This article applies to:\f[R] \[u2714]\[uFE0F] .NET Core 3.1 SDK and later versions
.SH NAME
.PP
dotnet-dev-certs - Generates a self-signed certificate to enable HTTPS use in development.
.SH SYNOPSIS
.IP
.nf
\f[C]
dotnet dev-certs https 
  [-c|--check] [--clean] [-ep|--export-path <PATH>]
  [--format] [-i|--import] [-np|--no-password]
  [-p|--password] [-q|--quiet] [-t|--trust]
  [-v|--verbose] [--version]

dotnet dev-certs https -h|--help
\f[R]
.fi
.SH DESCRIPTION
.PP
The \f[V]dotnet dev-certs\f[R] command manages a self-signed certificate to enable HTTPS use in local web app development.
Its main functions are:
.IP \[bu] 2
Generating a certificate for use with HTTPS endpoints during development.
.IP \[bu] 2
Trusting the generated certificate on the local machine.
.IP \[bu] 2
Removing the generated certificate from the local machine.
.IP \[bu] 2
Exporting a certificate in various formats so that it can be used by other tools.
.IP \[bu] 2
Importing an existing certificate generated by the tool into the local machine.
.SS Commands
.IP \[bu] 2
\f[B]\f[VB]https\f[B]\f[R]
.RS 2
.PP
\f[V]dotnet dev-certs\f[R] has only one command: \f[V]https\f[R].
The \f[V]dotnet dev-certs https\f[R] command with no options checks if a development certificate is present in the current user\[cq]s certificate store on the machine.
If the command finds a development certificate, it displays a message like the following example:
.IP
.nf
\f[C]
A valid HTTPS certificate is already present.
\f[R]
.fi
.PP
If the command doesn\[cq]t find a development certificate, it creates one in the current user\[cq]s certificate store, the store named \f[V]My\f[R] in the location \f[V]CurrentUser\f[R].
The physical location of the certificate is an implementation detail of the .NET runtime that could change at any time.
On macOS in .NET 7.0, the certificate is stored in the user key chain and as a PFX file: \f[I]\[ti]/.aspnet/https-aspnetcore-localhost-<Thumbprint[0..5]>.pfx\f[R].
.PP
After creating a certificate, the command displays a message like the following example:
.IP
.nf
\f[C]
The HTTPS developer certificate was generated successfully.
\f[R]
.fi
.PP
By default, the newly created certificate is not trusted.
To trust the certificate, use the \f[V]--trust\f[R] option.
.PP
To create a file that you can use with other tools, use the \f[V]--export-path\f[R] option.
.RE
.SH OPTIONS
.IP \[bu] 2
\f[B]\f[VB]-c|--check\f[B]\f[R]
.RS 2
.PP
Checks for the existence of the development certificate but doesn\[cq]t perform any action.
Use this option with the \f[V]--trust\f[R] option to check if the certificate is not only valid but also trusted.
.RE
.IP \[bu] 2
\f[B]\f[VB]--clean\f[B]\f[R]
.RS 2
.PP
Removes all HTTPS development certificates from the certificate store by using the .NET certificate store API.
Doesn\[cq]t remove any physical files that were created by using the \f[V]--export-path\f[R] option.
On macOS in .NET 7.0, the \f[V]dotnet dev-certs\f[R] command creates the certificate on a path on disk, and the clean operation removes that certificate file.
.PP
If there\[cq]s at least one certificate in the certificate store, the command displays a message like the following example:
.IP
.nf
\f[C]
Cleaning HTTPS development certificates
from the machine.
A prompt might get displayed to confirm
the removal of some of the certificates.

HTTPS development certificates
successfully removed from the machine.
\f[R]
.fi
.PP
.RE
.IP \[bu] 2
\f[B]\f[VB]-ep|--export-path <PATH>\f[B]\f[R]
.RS 2
.PP
Exports the certificate to a file so that it can be used by other tools.
Specify the full path to the exported certificate file, including the file name.
The type of certificate files that are created depends on which options are used with \f[V]--export-path\f[R]:
.PP
.TS
tab(@);
l l.
T{
Options
T}@T{
What is exported
T}
_
T{
\f[V]--export-path\f[R]
T}@T{
The public part of the certificate as a PFX file.
T}
T{
\f[V]--export-path --format PEM\f[R]
T}@T{
The public part of the certificate in PEM format.
No separate \f[I].key\f[R] file is created.
T}
T{
\f[V]--export-path --password\f[R]
T}@T{
The public and private parts of the certificate as a PFX file.
T}
T{
\f[V]--export-path --password --format PEM\f[R]
T}@T{
The public and private parts of the certificate as a pair of files in PEM format.
The key file has the \f[I].key\f[R] extension and is protected by the given password.
T}
T{
\f[V]--export-path --no-password --format PEM\f[R]
T}@T{
The public and private parts of the certificate as a pair of files in PEM format.
The key file has the \f[I].key\f[R] extension and is exported in plain text.
The \f[V]--no-password\f[R] option is intended for internal testing use only.
T}
.TE
.IP \[bu] 2
\f[B]\f[VB]--format\f[B]\f[R]
.PP
When used with \f[V]--export-path\f[R], specifies the format of the exported certificate file.
Valid values are \f[V]PFX\f[R] and \f[V]PEM\f[R], case-insensitive.
\f[V]PFX\f[R] is the default.
.PP
The file format is independent of the file name extension.
For example, if you specify \f[V]--format pfx\f[R] and \f[V]--export-path ./cert.pem\f[R], you\[cq]ll get a file named \f[I]cert.pem\f[R] in \f[V]PFX\f[R] format.
.PP
For information about the effect of this option when used with \f[V]--password\f[R], \f[V]--no-password\f[R], or without either of those options, see \[en]export-path earlier in this article.
.IP \[bu] 2
\f[B]\f[VB]-i|--import <PATH>\f[B]\f[R]
.PP
Imports the provided HTTPS development certificate into the local machine.
Requires that you also specify the \f[V]--clean\f[R] option, which clears out any existing HTTPS developer certificates.
.PP
\f[V]PATH\f[R] specifies a path to a PFX certificate file.
Provide the password with the \f[V]--password\f[R] option.
.RE
.IP \[bu] 2
\f[B]\f[VB]-np|--no-password\f[B]\f[R]
.RS 2
.PP
Doesn\[cq]t use a password for the key when exporting a certificate to PEM format files.
The key file is exported in plain text.
This option is not applicable to PFX files and is intended for internal testing use only.
.RE
.IP \[bu] 2
\f[B]\f[VB]-p|--password\f[B]\f[R]
.RS 2
.PP
Specifies the password to use:
.IP \[bu] 2
When exporting the development certificate to a PFX or PEM file.
.IP \[bu] 2
When importing a PFX file.
.PP
When exporting with \f[V]--format PEM\f[R], the public and private parts of the certificate are exported as a pair of files in PEM format.
The key file has the \f[I].key\f[R] extension and is protected by the given password.
In addition to the file name specified for the \f[V]--export-path\f[R] option, the command creates another file in the same directory with the same name but a \f[I].key\f[R] extension.
For example, the following command will generate a file named \f[I]localhost.pem\f[R] and a file named \f[I]localhost.key\f[R] in the \f[I]/home/user\f[R] directory:
.IP
.nf
\f[C]
dotnet dev-certs https --format pem -ep /home/user/localhost.pem -p $CREDENTIAL_PLACEHOLDER$
\f[R]
.fi
.PP
In the example, \f[V]$CREDENTIAL_PLACEHOLDER$\f[R] represents a password.
.RE
.IP \[bu] 2
\f[B]\f[VB]-q|--quiet\f[B]\f[R]
.RS 2
.PP
Display warnings and errors only.
.RE
.IP \[bu] 2
\f[B]\f[VB]-t|--trust\f[B]\f[R]
.RS 2
.PP
Trusts the certificate on the local machine.
.PP
If this option isn\[cq]t specified, the certificate is added to the certificate store but not to a trusted list.
.PP
When combined with the \f[V]--check\f[R] option, validates that the certificate is trusted.
.RE
.IP \[bu] 2
\f[B]\f[VB]-v|--verbose\f[B]\f[R]
.RS 2
.PP
Display debug information.
.RE
.SH EXAMPLES
.IP \[bu] 2
Check for the presence of a development certificate, and create one in the default certificate store if one doesn\[cq]t exist yet.
But don\[cq]t trust the certificate.
.RS 2
.IP
.nf
\f[C]
dotnet dev-certs https
\f[R]
.fi
.RE
.IP \[bu] 2
Remove any development certificates that already exist on the local machine.
.RS 2
.IP
.nf
\f[C]
dotnet dev-certs https --clean
\f[R]
.fi
.RE
.IP \[bu] 2
Import a PFX file.
.RS 2
.IP
.nf
\f[C]
dotnet dev-certs https --clean --import ./certificate.pfx -p $CREDENTIAL_PLACEHOLDER$
\f[R]
.fi
.PP
In the preceding example, \f[V]$CREDENTIAL_PLACEHOLDER$\f[R] represents a password.
.RE
.IP \[bu] 2
Check if a trusted development certificate is present on the local machine.
.RS 2
.IP
.nf
\f[C]
dotnet dev-certs https --check --trust
\f[R]
.fi
.RE
.IP \[bu] 2
Create a certificate, trust it, and export it to a PFX file.
.RS 2
.IP
.nf
\f[C]
dotnet dev-certs https -ep ./certificate.pfx -p $CREDENTIAL_PLACEHOLDER$ --trust
\f[R]
.fi
.RE
.IP \[bu] 2
Create a certificate, trust it, and export it to a PEM file.
.RS 2
.IP
.nf
\f[C]
dotnet dev-certs https -ep ./certificate.crt --trust --format PEM
\f[R]
.fi
.RE
.IP \[bu] 2
Create a certificate, trust it, and export it to a PEM file including the private key:
.RS 2
.IP
.nf
\f[C]
dotnet dev-certs https -ep ./certificate.crt -p $CREDENTIAL_PLACEHOLDER$ --trust --format PEM
\f[R]
.fi
.RE
.SH SEE ALSO
.IP \[bu] 2
Generate self-signed certificates with the .NET CLI
.IP \[bu] 2
Enforce HTTPS in ASP.NET Core
.IP \[bu] 2
Troubleshoot certificate problems such as certificate not trusted
.IP \[bu] 2
Hosting ASP.NET Core images with Docker over HTTPS
.IP \[bu] 2
Hosting ASP.NET Core images with Docker Compose over HTTPS
