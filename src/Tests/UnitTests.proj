<Project Sdk="Microsoft.DotNet.Helix.Sdk">

  <PropertyGroup>
    <HelixType>test/product/</HelixType>
    <Creator Condition="'$(BUILD_BUILDNUMBER)' != ''">sdk-dev</Creator>

    <IncludeDotNetCli>true</IncludeDotNetCli>
    <DotNetCliPackageType>sdk</DotNetCliPackageType>
    <DotNetCliVersion>3.0.100-preview9-013759</DotNetCliVersion>

    <EnableAzurePipelinesReporter Condition="'$(BUILD_BUILDNUMBER)' != ''">true</EnableAzurePipelinesReporter>

    <EnableXUnitReporter>true</EnableXUnitReporter>

    <PropertyGroup>
      <HelixPreCommands Condition="$(IsPosixShell)">$(HelixPreCommands);export DOTNET_MULTILEVEL_LOOKUP=0</HelixPreCommands>
      <HelixPreCommands Condition="!$(IsPosixShell)">$(HelixPreCommands);set DOTNET_MULTILEVEL_LOOKUP=0</HelixPreCommands>
    </PropertyGroup>
  </PropertyGroup>

  <ItemGroup>
    <XUnitProject Include="**\*.Tests.csproj"/>

  </ItemGroup>

  <ItemGroup Condition=" '$(HelixAccessToken)' != '' ">
    <HelixTargetQueue Include="Windows.10.Amd64"/>
  </ItemGroup>

  <ItemGroup Condition=" '$(HelixAccessToken)' == '' ">
    <HelixTargetQueue Include="Windows.10.Amd64.Open"/>
  </ItemGroup>

</Project>
