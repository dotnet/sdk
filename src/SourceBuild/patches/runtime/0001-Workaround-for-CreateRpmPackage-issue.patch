From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Alexander=20K=C3=B6plinger?= <alex.koeplinger@outlook.com>
Date: Mon, 11 Nov 2024 14:24:15 +0100
Subject: [PATCH] Workaround for CreateRpmPackage issue

---
 eng/DotNetBuild.props | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/eng/DotNetBuild.props b/eng/DotNetBuild.props
index a202a1bfd72..f8c82a1f47d 100644
--- a/eng/DotNetBuild.props
+++ b/eng/DotNetBuild.props
@@ -99,6 +99,9 @@
 
       <!-- Needed until https://github.com/dotnet/runtime/issues/109329 is fixed. -->
       <InnerBuildArgs Condition="'$(NetCoreAppToolCurrentVersion)' != ''">$(InnerBuildArgs) /p:NetCoreAppToolCurrentVersion=$(NetCoreAppToolCurrentVersion)</InnerBuildArgs>
+
+      <!-- temporary workaround for https://github.com/dotnet/source-build/issues/4728 -->
+      <InnerBuildArgs Condition="'$(DotNetBuildSourceOnly)' == 'true'">$(InnerBuildArgs) /p:InstallerRuntimeIdentifier=linux-$(TargetArch)</InnerBuildArgs>
     </PropertyGroup>
   </Target>
 
