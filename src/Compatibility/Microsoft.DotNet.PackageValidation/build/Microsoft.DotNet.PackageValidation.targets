<!-- Licensed to the .NET Foundation under one or more agreements. The .NET Foundation licenses this file to you under the MIT license. -->

<Project>
 
  <UsingTask TaskName="ValidatePackage" AssemblyFile="$(DotNetPackageValidationAssembly)"/>
  
  <Target Name="RunPackageValidation" AfterTargets="Pack">
    <PropertyGroup>
      <PackagePath Condition="'$(PackagePath)' == ''">$(PackageOutputPath)$(PackageID).$(Version).nupkg</PackagePath>
      <RunApiCompat Condition="'$(RunApiCompat)' == ''">false</RunApiCompat>
      <ValidateWithPreviousVersion Condition="'$(ValidateWithPreviousVersion)' == ''">false</ValidateWithPreviousVersion>
    </PropertyGroup>

    <ValidatePackage PackagePath="$(PackagePath)"
                     RuntimeGraph="$(RuntimeGraph)"
                     NoWarn="$(NoWarn)"
                     RunApiCompat="$(RunApiCompat)"
                     ValidateWithPreviousVersion="$(ValidateWithPreviousVersion)"/>
  </Target>

</Project>
