<!--
***********************************************************************************************
Microsoft.NET.RoslynCompilerTypeDeprecation.targets

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your projects from the command-line or the IDE.

Copyright (c) .NET Foundation. All rights reserved.
***********************************************************************************************
-->
<Project>

  <!--
    This target detects when RoslynCompilerType is set to 'Framework' and warns that it is deprecated.
    
    RoslynCompilerType='Framework' is deprecated and will be removed in .NET 11.
    Users should migrate to using the default compiler type or explicitly set RoslynCompilerType to 'Core' or 'FrameworkPackage'.
    
    This check runs before PrepareForBuild to catch the issue early in the build process.
  -->
  <Target Name="_CheckForDeprecatedRoslynCompilerType"
          BeforeTargets="PrepareForBuild"
          Condition="'$(RoslynCompilerType)' == 'Framework'">

    <NETSdkWarning ResourceName="RoslynCompilerTypeFrameworkIsDeprecated"
                   FormatArguments="https://aka.ms/dotnet-compiler-platform" />

  </Target>

</Project>
